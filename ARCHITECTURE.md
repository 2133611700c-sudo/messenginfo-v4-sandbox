# Messenginfo V4 — Sandbox Architecture

Цель: спроектировать устойчивую 24/7-платформу, независимую от одного сервиса, одного человека и одной ошибки.

## Основные принципы

- Только публичные стабильные интерфейсы (API / события).
- Разделение зон: ядро, биллинг, боты, ingestion, наблюдаемость.
- Никаких прямых связей sandbox → прод. Только через Integrator/Messenginfo и PR.

## Модульная структура (черновик)

- `app/` — HTTP/API endpoints, веб-интерфейсы.
- `lib/core/` — бизнес-логика ядра.
- `lib/billing/` — тарифы, лимиты, проверки.
- `lib/agents/` — утилиты для агентов (формат задач, логи).
- `lib/ingestion/` — адаптеры к внешним источникам.
- `lib/observability/` — логирование, метрики, алерты.
- `docs/` — документация.

Любые новые директории должны быть описаны здесь.

## Контуры безопасности

- Нет реальных секретов в коде.
- Все ключи только через переменные окружения (`CHANGE_ME_*`).
- Все изменения — через PR и проверки CI.
- SecGuardianSandbox отслеживает нарушения `AGENTS_SANDBOX.md`.
